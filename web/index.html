<!DOCTYPE hmtl>
<html>
	<head>
		<meta charset="utf8">
		<meta name="viewport" content="width=device-width" ,"initial-scale=1">
		<title>Ambientbox</title>
		<link rel="stylesheet" type="text/css" href="styleshit.css"/>
		<link rel="stylesheet" type="text/css" href="css/font-awesome.css"/>
		<script src="scripts.js"></script>
		<script src="mqttws31.js" type="text/javascript"></script>
		<script type="text/javascript">
			
		// Create a client instance
		var wsbroker = "broker.mqttdashboard.com";  //mqtt websocket enabled broker
		var wsport = 8000 // port for above
		var client = new Paho.MQTT.Client(wsbroker, wsport,
			"myclientid_" + parseInt(Math.random() * 100, 10));
		client.onConnectionLost = function (responseObject) {
		console.log("connection lost: " + responseObject.errorMessage);
		};
		client.onMessageArrived = function (message) {
		console.log(message.destinationName, ' -- ', message.payloadString);
		};
		var options = {
		timeout: 3,
		onSuccess: function () {
        console.log("mqtt connected");
        // Connection succeeded; subscribe to our topic, you can add multile lines of these
        client.subscribe('haw/dmi/mt/its/ss17/ambientbox', {qos: 0});
    
        //use the below if you want to publish to a topic on connect
        message = new Paho.MQTT.Message("start_Seq 50");
        message.destinationName = "haw/dmi/mt/its/ss17/ambientbox";
        client.send(message);
  
		},
		onFailure: function (message) {
        console.log("Connection failed: " + message.errorMessage);
		}
		};

		function init() {
		client.connect(options);
		}
			
		function sliderChange(value, id){
		var send = id + " " + value;
		document.getElementById("sliderStatus").innerHTML = send;
		message = new Paho.MQTT.Message(send);
		message.destinationName = "haw/dmi/mt/its/ss17/ambientbox";
		client.send(message);
		}
		
		
			
			</script>
			
	</head>
	<body onload="init();">
		<div id="wilkommensDiv">
			<h1 id="wilText" class="home">Herzlich Wilkommen zur Ambientbox</h1>
			<h4 id="uText" class="home">DISCOVER THE SOUNDTRACK OF YOUR LIFE</h4>
		</div>
		
		<div id="imageDiv">
			<input type="image" class="slides" id="imgManuell" src="pics/Manuell.png" onclick="showRegler('Alarm')">
			<input type="image" class="slides" id="imgLand" src="pics/Land2.png">
			<input type="image" class="slides" id="imgWald" src="pics/Wald.png">
			<input type="image" class="slides" id="imgStadt" src="pics/Stadt.png">
		</div>
		<div id="regler">
			<div id="divWald">
				<h1  id="waldH1" onclick="div_hide_show('waldKont')">Wald</h1>
					<div id="waldKont">
						Atmosphaere<input type="range" id="wald_Atmosphaere" min="0" max ="100" step="1" value="0" onChange="sliderChange(this.value, this.id)">
				
						<p id="sliderStatus">Hallo<p>
				
						Kuckuck<input type="range" id="wald_Kuckuck" min="0" max ="100" step="1" value="0" onChange="sliderChange(this.value, this.id)">
						Eule<input type="range" id="wald_Eule" min="0" max ="100" step="1" value="0" onChange="sliderChange(this.value, this.id)">
						Specht<input type="range" id="wald_Specht" min="0" max ="100" step="1" value="0" onChange="sliderChange(this.value, this.id)">
						Wolf<input type="range" id="wald_Wolf" min="0" max ="100" step="1" value="0" onChange="sliderChange(this.value, this.id)">
						Aeste<input type="range" id="wald_Aeste" min="0" max ="100" step="1" value="0" onChange="sliderChange(this.value, this.id)">
						Laub<input type="range" id="wald_Laub" min="0" max ="100" step="1" value="0" onChange="sliderChange(this.value, this.id)">
						Fallobst<input type="range" id="wald_Fallobst" min="0" max ="100" step="1" value="0" onChange="sliderChange(this.value, this.id)">
						Frosch<input type="range" id="wald_Frosch" min="0" max ="100" step="1" value="0" onChange="sliderChange(this.value, this.id)">
						See<input type="range" id="wald_See" min="0" max ="100" step="1" value="0" onChange="sliderChange(this.value, this.id)">
						Tiergetrappel<input type="range" id="wald_Tiergetrappel" min="0" max ="100" step="1" value="0" onChange="sliderChange(this.value, this.id)">
						Tropfen<input type="range" id="wald_Tropfen" min="0" max ="100" step="1" value="0" onChange="sliderChange(this.value, this.id)">
					</div>
			</div>
			<div id="divLand">
				<h1 id="landH1"onclick="div_hide_show('landKont')">Land</h1>
					<div id="landKont">
						Atmosphaere<input type="range" id="land_Atmosphaere" min="0" max ="100" step="1" value="0" onChange="sliderChange(this.value, this.id)">
						Grillenzirpen<input type="range" min="0" max ="100" step="1" value="0" onChange="sliderChange(this.value, this.id)">
						Hunde<input type="range" id="land_Hunde" min="0" max ="100" step="1" value="0" onChange="sliderChange(this.value, this.id)">
						Katze<input type="range" id="land_Katze" min="0" max ="100" step="1" value="0" onChange="sliderChange(this.value, this.id)">
						Wasser<input type="range" id="land_Wasser" min="0" max ="100" step="1" value="0" onChange="sliderChange(this.value, this.id)">
						Schweine<input type="range" id="land_Schweine" min="0" max ="100" step="1" value="0" onChange="sliderChange(this.value, this.id)">
						Kuehe<input type="range" id="land_Kuehe" min="0" max ="100" step="1" value="0" onChange="sliderChange(this.value, this.id)">
						Kinder<input type="range" id="land_Kinder" min="0" max ="100" step="1" value="0" onChange="sliderChange(this.value, this.id)">
						Pferde<input type="range" id="land_Pferde" min="0" max ="100" step="1" value="0" onChange="sliderChange(this.value, this.id)">
						Hahn<input type="range" id="land_Hahn" min="0" max ="100" step="1" value="0" onChange="sliderChange(this.value, this.id)">
						Traktor<input type="range" id="land_Traktor" min="0" max ="100" step="1" value="0" onChange="sliderChange(this.value, this.id)">
						Bahnschranke<input type="range" id="land_Bahnschranke" min="0" max ="100" step="1" value="0" onChange="sliderChange(this.value, this.id)">
						Kirche<input type="range" id="land_Kirche" min="0" max ="100" step="1" value="0" onChange="sliderChange(this.value, this.id)">
						Lagerfeuer<input type="range"  id="land_Lagerfeuer" min="0" max ="100" step="1" value="0" onChange="sliderChange(this.value, this.id)">
					</div>
			</div>
			<div id="divStadt">
				<h1 id="stadtH1" onclick="div_hide_show('stadtKont')">Stadt</h1>
				<div id="stadtKont">
					Atmosphaere<input type="range" id="stadt_Atmosphaere" min="0" max ="100" step="1" value="0" onChange="sliderChange(this.value, this.id)">
					Markt<input type="range" id="stadt" min="0" max ="100" step="1" value="0" onChange="sliderChange(this.value, this.id)">
					Zug<input type="range" min="0" max ="100" step="1" value="0" id="stadt" onChange="sliderChange(this.value, this.id)">
					Fluglaerm<input type="range" id="stadt_Fluglaerm" min="0" max ="100" step="1" value="0" onChange="sliderChange(this.value, this.id)">
					Verkehr<input type="range" id="stadtVerkehr" min="0" max ="100" step="1" value="0" onChange="sliderChange(this.value, this.id)">
					Passanten<input type="range" id="stadt_Passanten" min="0" max ="100" step="1" value="0" onChange="sliderChange(this.value, this.id)">
					Baustelle<input type="range" id="stadt_Baustelle" min="0" max ="100" step="1" value="0" onChange="sliderChange(this.value, this.id)">
					Sirenen<input type="range" id="stadt_Sirenen" min="0" max ="100" step="1" value="0" onChange="sliderChange(this.value, this.id)">
					Kirchenglocken<input type="range" id="stadt_Kirche" min="0" max ="100" step="1" value="0" onChange="sliderChange(this.value, this.id)">
					Autobahn<input type="range" id="stadt_Autobahn" min="0" max ="100" step="1" value="0" onChange="sliderChange(this.value, this.id)">
				</div>
			</div>
			<div id="divWetter">
				<h1 id="wetterH1" onclick="div_hide_show('wetterKont')">Wetter</h1>
					<div id="wetterKont">
						Regen-hart<input type="range" id="wetter_Regen-hart" min="0" max ="100" step="1" value="0" onChange="sliderChange(this.value, this.id)">
						Regen-weich<input type="range" id="wetter_Regen-weich" min="0" max ="100" step="1" value="0" onChange="sliderChange(this.value, this.id)">
						Gewitter<input type="range" id="wetter_Gewitter" min="0" max ="100" step="1" value="0" onChange="sliderChange(this.value, this.id)">
						Sturm<input type="range" id="wetter_Sturm" min="0" max ="100" step="1" value="0" onChange="sliderChange(this.value, this.id)">	
					</div>
			</div>
				<div id="divInstrumental">
					<h1 id="instrumentalH1" onclick="div_hide_show('instrKont')">Instrumental</h1>
						<div id="instrKont">
							Gitarre<input type="range" id="instr_Gitarre" min="0" max ="100" step="1" value="0" onChange="sliderChange(this.value, this.id)">
							Hall<input type="range" id="instr_Hall" min="0" max ="100" step="1" value="0" onChange="sliderChange(this.value, this.id)">
							Glockenspiel<input type="range" id="instr_Glockenspiel" min="0" max ="100" step="1" value="0" onChange="sliderChange(this.value, this.id)">
						</div>
				</div>		
		</div>
			
	</body>
</html>